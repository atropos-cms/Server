(window.webpackJsonp=window.webpackJsonp||[]).push([[31,29],{425:function(e,n,t){"use strict";var r=t(2);n.a=r.a.extend({props:{value:{type:Object,required:!0,default:function(){return{}}},loading:{type:Boolean,required:!1,default:!1},isEdit:{type:Boolean,required:!1,default:!1}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}})},439:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Users"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orderBy"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UsersOrderByOrderByClause"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"Variable",name:{kind:"Name",value:"orderBy"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paginatorInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentPage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"data"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:328}};t.loc.source={body:"query Users($first: Int!, $page: Int, $search: String, $orderBy: [UsersOrderByOrderByClause!]) {\n  users(first: $first, page: $page, search: $search, orderBy: $orderBy) {\n    paginatorInfo {\n      count\n      currentPage\n      total\n    }\n    data {\n      id\n      firstName\n      lastName\n      fullName\n      email\n    }\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e,n){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==n)return element}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var r=n.type;"NamedType"===r.kind&&t.add(r.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=t,e.exports.Users=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var d=r[n]||new Set,l=new Set,c=new Set;for(d.forEach((function(e){c.add(e)}));c.size>0;){var m=c;c=new Set,m.forEach((function(e){l.has(e)||(l.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return l.forEach((function(n){var r=o(e,n);r&&t.definitions.push(r)})),t}(t,"Users")},490:function(e,n,t){"use strict";t.r(n);var r=t(47),o=t(425),d=Object(r.a)(o.a).extend({}),l=t(22),c=t(26),m=t.n(c),v=t(415),f=t(416),k=t(418),N=t(445),component=Object(l.a)(d,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-container",[t("v-row",[t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{"error-messages":e.$v("firstName","account.firstName"),label:e.$t("user.firstName")},model:{value:e.model.firstName,callback:function(n){e.$set(e.model,"firstName",n)},expression:"model.firstName"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{"error-messages":e.$v("lastName","account.lastName"),label:e.$t("user.lastName")},model:{value:e.model.lastName,callback:function(n){e.$set(e.model,"lastName",n)},expression:"model.lastName"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{"error-messages":e.$v("email","account.email"),label:e.$t("user.email")},model:{value:e.model.email,callback:function(n){e.$set(e.model,"email",n)},expression:"model.email"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{"error-messages":e.$v("postcode","account.postcode"),label:e.$t("user.postcode")},model:{value:e.model.postcode,callback:function(n){e.$set(e.model,"postcode",n)},expression:"model.postcode"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12",md:"6"}},[t("v-text-field",{attrs:{"error-messages":e.$v("city","account.city"),label:e.$t("user.city")},model:{value:e.model.city,callback:function(n){e.$set(e.model,"city",n)},expression:"model.city"}})],1),e._v(" "),t("v-col",{attrs:{cols:"12"}},[t("v-text-field",{attrs:{"error-messages":e.$v("country","account.country"),label:e.$t("user.country")},model:{value:e.model.country,callback:function(n){e.$set(e.model,"country",n)},expression:"model.country"}})],1)],1)],1)}),[],!1,null,null,null);n.default=component.exports;m()(component,{VCol:v.a,VContainer:f.a,VRow:k.a,VTextField:N.a})},525:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"data"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateOrCreateUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"data"},value:{kind:"Variable",name:{kind:"Name",value:"data"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lastName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"street"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"postcode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:190}};t.loc.source={body:"mutation createUser($data: UpdateOrCreateUserInput!) {\n  createUser(data: $data) {\n    id\n    firstName\n    lastName\n    initials\n    email\n    street\n    postcode\n    city\n    country\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e,n){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==n)return element}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var r=n.type;"NamedType"===r.kind&&t.add(r.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=t,e.exports.createUser=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var d=r[n]||new Set,l=new Set,c=new Set;for(d.forEach((function(e){c.add(e)}));c.size>0;){var m=c;c=new Set,m.forEach((function(e){l.has(e)||(l.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return l.forEach((function(n){var r=o(e,n);r&&t.definitions.push(r)})),t}(t,"createUser")},526:function(e,n){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:68}};t.loc.source={body:"mutation deleteUser($id: ID!) {\n  deleteUser(id: $id) {\n    id\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(e,n){for(var i=0;i<e.definitions.length;i++){var element=e.definitions[i];if(element.name&&element.name.value==n)return element}}t.definitions.forEach((function(e){if(e.name){var n=new Set;!function e(n,t){if("FragmentSpread"===n.kind)t.add(n.name.value);else if("VariableDefinition"===n.kind){var r=n.type;"NamedType"===r.kind&&t.add(r.name.value)}n.selectionSet&&n.selectionSet.selections.forEach((function(n){e(n,t)})),n.variableDefinitions&&n.variableDefinitions.forEach((function(n){e(n,t)})),n.definitions&&n.definitions.forEach((function(n){e(n,t)}))}(e,n),r[e.name.value]=n}})),e.exports=t,e.exports.deleteUser=function(e,n){var t={kind:e.kind,definitions:[o(e,n)]};e.hasOwnProperty("loc")&&(t.loc=e.loc);var d=r[n]||new Set,l=new Set,c=new Set;for(d.forEach((function(e){c.add(e)}));c.size>0;){var m=c;c=new Set,m.forEach((function(e){l.has(e)||(l.add(e),(r[e]||new Set).forEach((function(e){c.add(e)})))}))}return l.forEach((function(n){var r=o(e,n);r&&t.definitions.push(r)})),t}(t,"deleteUser")},562:function(e,n,t){"use strict";t.r(n);t(55);var r=t(20),o=(t(258),t(2)),d=t(490),l=t(85),c=t(439),m=t.n(c),v=t(525),f=t.n(v),k=t(526),N=t.n(k),h=t(116),y=o.a.extend({data:function(){return{headers:[{text:l.b.t("user.firstName"),value:"firstName"},{text:l.b.t("user.lastName"),value:"lastName"},{text:l.b.t("user.email"),value:"email"},{text:l.b.t("general.actions"),value:"action",align:"right",sortable:!1}],options:{page:1,itemsPerPage:10,sortBy:["firstName"],sortDesc:[!1]},selected:[],search:"",users:{paginatorInfo:{total:0},data:[]}}},apollo:{users:{query:m.a,variables:function(){var e=this;return{first:this.options.itemsPerPage,orderBy:this.options.sortBy.map((function(n,t){return{field:n,order:e.options.sortDesc[t]?"DESC":"ASC"}})),search:this.search||void 0,page:this.options.page}}}},methods:{addUser:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$dialog({title:e.$t("messages.createUserTitle"),component:d.default,preset:h.a.Create,action:function(n){return e.$apollo.mutate({mutation:f.a,variables:{data:n}}).then((function(){e.$apollo.queries.users.refetch()}))}});case 2:case"end":return n.stop()}}),n)})))()},editUser:function(e){this.$router.push("/users/".concat(e.id))},deleteUser:function(e){var n=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.$confirm({title:n.$t("messages.deleteUserTitle"),message:n.$t("messages.deleteUserMessage",e),preset:h.a.Delete,action:function(){return n.$apollo.mutate({mutation:N.a,variables:{id:e.id}}).then((function(){n.$apollo.queries.users.refetch()}))}});case 2:case"end":return t.stop()}}),t)})))()}}}),S=t(22),$=t(26),x=t.n($),w=t(198),U=t(177),D=t(49),V=t(557),E=t(179),F=t(445),component=Object(S.a)(y,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-card",[t("v-card-title",[t("v-btn",{attrs:{text:"",small:"",color:"primary"},on:{click:e.addUser}},[e._v("\n      "+e._s(e.$t("applications.users.addNewUser"))+"\n    ")]),e._v(" "),t("div",{staticClass:"flex-grow-1"}),e._v(" "),t("v-text-field",{attrs:{"append-icon":"search",label:e.$t("general.search"),"single-line":"","hide-details":""},model:{value:e.search,callback:function(n){e.search=n},expression:"search"}})],1),e._v(" "),t("v-data-table",{attrs:{headers:e.headers,items:e.users.data,"footer-props":{itemsPerPageOptions:[10,50,100]},options:e.options,"server-items-length":e.users.paginatorInfo.total,loading:e.$apollo.queries.users.loading,"item-key":"id"},on:{"update:options":function(n){e.options=n}},scopedSlots:e._u([{key:"item.action",fn:function(n){var r=n.item;return[t("v-icon",{staticClass:"mr-2",on:{click:function(n){return e.editUser(r)}}},[e._v("\n        edit\n      ")]),e._v(" "),t("v-icon",{on:{click:function(n){return e.deleteUser(r)}}},[e._v("\n        delete\n      ")])]}}]),model:{value:e.selected,callback:function(n){e.selected=n},expression:"selected"}})],1)}),[],!1,null,null,null);n.default=component.exports;x()(component,{VBtn:w.a,VCard:U.a,VCardTitle:D.c,VDataTable:V.a,VIcon:E.a,VTextField:F.a})}}]);